<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Administrador</title>
    <link rel="stylesheet" href="../static/admSASS.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
    {% block body %}
    <header class="header">
      <!-- Cabeçalho contendo as opções que o ADM poderá utilizar -->
    <section class="options">
        <button class="button-open" id="open">Cadastrar novos Usuários</button>
        <form><a href="/ocorrencias" class="button-redirect">Gerenciar Ocorrências</a></form>
    </section>

    <section class="headerlogo">
        <!-- Logo da NOAR exibida no canto superior esquerdo da tela -->
        <img src="../static/img/logo_pequena.png" class="logo">
    </section>
    </header>
            <center>     

                <div class="float_menu_adduser" id="float_menu">
                    <form action="/adicionar" method="post">
                        <section class="inputs">
                            <div class="texto">
                                <div class="left">
                                Cadastro de Usuários 
                                </div>

                                <div class="right">
                                <p><ion-icon id="close" class="button-close" name="close-circle-outline"></ion-icon></p>
                                </div>
                            </div>
                            
                            <br>
            
                            <input type="text" class="input_name" name="nome" placeholder=" &nbsp; Nome" required="1">
                            <br>
                            <input type="text" class="input_cpf" name="cpf" placeholder=" &nbsp; CPF" required="1">
                            <br>
                            <input type="text" class="input_email" name="email" placeholder=" &nbsp; E-Mail" required="1">
                            <br>
                            <input type="text" class="input_telefone" name="telefone" placeholder=" &nbsp; Telefone" required="1">
                            <br> 
                            Adm:
                            <select name="adm" class="input_adm"> 
                                <option value="yes">Sim</option>
                                <option value="no">Não</option> 
                            </select>
                            <Br>
                            <button class="confirm">Confirmar</button>
                        </section>
                    </form>
                </div>
                <main>
                    <!-- Tabela de Usuários Cadastrados e botões de Ver, Alterar e Excluir-->
                    <form action="">
                        <table>
                            <h2>Usuários Cadastrados</h2>
                            <tr>
                                <th class="tbheader_name">Nome</th>
                                <th class="tbheader_cpf">CPF</th>
                                <th class="tbheader_options">Operações</th>
                            </tr>
                            {% for row in login %}
                            <tr class="tbrow_main">
                                <td>{{row.4}}</td>
                                <td>{{row.1}}</td>
                                <td class="tbdata_opt">    
                                    <a href="/ver/{{row.0}}" data-toggle="modal" data-target="#modaledit{{row.0}}" class="buttons_opt" id="read">Ver</a>
                                    <a href="/alterar/{{row.0}}" class="buttons_opt" id="alterar" data-toggle="modal" data-target="#modaledit{{row.0}}">Alterar</a>
                                    <a href="/deletar/{{ row.0 }}" class="buttons_opt" id="deletar" onclick="return confirm('Você tem certeza?')" style="text-decoration: none;" >Deletar</a>
                                </td>
                            </tr>

                            <div id="modaledit{{row.0}}" class="modal fade" role="dialog">

                            <div class="modal-dialog">

                                <div class="modal-content">

                                    <div class="modal-header">

                                        <h4 class="modal-title">Alterar Perfil</h4>

                                    </div>

                                    <div class="modal-body">

                                        <form action="" method="POST">

                                            <div class="form-group">

                                                <label>Nome:</label>
                                                <input type="hidden" name="id" value="{{row.0}}">

                                                <input type="text" class="form-control" name="nome" value="{{row.4}}">

                                            </div>

                                            <div class="form-group">

                                                <label>Email:</label>

                                                <input type="text" class="form-control" name="email" value="{{row.5}}">  

                                            </div>

                                           
                                            <div class="form-group">

                                                <label>CPF:</label>

                                                <input type="text" class="form-control" name="cpf" value="{{row.1}}">  

                                            </div>
                                            
                                            
                                            <div class="form-group">

                                                <label>Telefone:</label>

                                                <input type="text" class="form-control" name="telefone" value="{{row.6}}">  

                                            </div>

                                            
                                            <div class="form-group">

                                                <label>Adm:</label>

                                                <input type="text" class="form-control" name="adm" value="{{row.3}}">  

                                            </div>

                                            <div class="form-group">

                                                <button class="btn btn-primary">Alterar</button>

                                            </div>

                                            <div class="modal-footer">

                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>

                                            </div>

                                        </form>

                                    </div>

                                </div>

                            </div>
                            </div>


                            <!-- <div class="update_profile_menu" style="display: none;" id="update_profile_menu">
                                <form action="">
                                    <div class="inputs_update" id="inputs_update">
                                        <div class="texto">
                                            <div class="left">
                                            &nbsp; &nbsp; &nbsp; &nbsp; Alterar Perfil
                                            </div>
            
                                            <div class="right">
                                            <p><ion-icon id="close-update" class="button-close" name="close-circle-outline"></ion-icon></p>
                                            </div>
                                        </div>
            
                                        <br>
                                        <input type="text" class="input_name" name="nome" value="{{row.4}}">
                                        <br>
                                        <input type="text" class="input_cpf" name="cpf" value="{{row.1}}">
                                        <br>
                                        <input type="text" class="input_email" name="email" value="{{row.5}}">
                                        <br>
                                        <input type="text" class="input_telefone" name="telefone" value="{{row.6}}">
                                        <br> 
            
                                        <button class="confirm">Confirmar</button>
            
                                    </div>
                                </form>
                            </div> -->
                            <div class="read_profile_menu" id="read_profile_menu">
                                <form action="">
                                    <div class="inputs_read" id="inputs_read">
                                        <div class="texto">
                                            <div class="left">
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Perfil
                                            </div>
            
                                            <div class="right">
                                            <p><ion-icon id="close-read" class="button-close" name="close-circle-outline"></ion-icon></p>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="read_data">{{row.4}}</div>
                                        <br>
                                        <div class="read_data">{{row.1}}</div>
                                        <br>
                                        <div class="read_data">{{row.5}}</div>
                                        <br>
                                        <div class="read_data">{{row.6}}</div>
                                        <br>
                                        <div class="read_adm">Adm:</div>
            
                                    </div>
                                </form>
                            </div>
                            {% endfor %}
                        </table>
                    </form>
                </main>
                
            </center>
        {% endblock %}
</body>
</html>
<script src="../static/admPage.js"></script>